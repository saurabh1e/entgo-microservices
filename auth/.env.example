# Auth Service Environment Variables
#
# REQUIRED: Copy this file to .env before starting the service
# cp .env.example .env
#
# This file contains all configuration for the auth service.
# Docker Compose will load these variables automatically.
#
# Note: Some variables like DB_HOST and REDIS_HOST are overridden
# in docker-compose.dev.yml to use Docker container names.

# Application
APP_NAME=auth-service
APP_ENVIRONMENT=development
APP_VERSION=1.0.0

# Server
SERVER_HOST=0.0.0.0
SERVER_PORT=8081
GRPC_PORT=9081

# Gateway (for inter-service communication)
GATEWAY_GRPC_URL=entgo_gateway_dev:50051

# Database (Postgres)
DB_HOST=entgo_auth_postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=auth
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5
DB_CONN_MAX_IDLE_TIME=5
DB_PING_TIMEOUT=5

# Redis
REDIS_HOST=entgo_redis_shared
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT
JWT_SECRET=your-secret-key-change-this-in-production
JWT_EXPIRY_HOURS=24

# Logging
LOG_LEVEL=debug
LOG_DIR=./logs
LOG_MAX_SIZE=100
LOG_MAX_BACKUPS=3
LOG_MAX_AGE=7
LOG_COMPRESS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_DURATION=60
RATE_LIMIT_AUTHENTICATED_USER_LIMIT=100
RATE_LIMIT_UNAUTHENTICATED_IP_LIMIT=20
RATE_LIMIT_AUTH_ENDPOINT_LIMIT=5

# CORS
ALLOWED_ORIGINS=*

# GraphQL
GRAPHQL_PLAYGROUND_ENABLED=true
GRAPHQL_INTROSPECTION_ENABLED=true

# mTLS (optional - set to true to enable)
GRPC_TLS_ENABLED=false
GRPC_SERVER_CERT=/certs/server-cert.pem
GRPC_SERVER_KEY=/certs/server-key.pem
GRPC_CLIENT_CERT=/certs/client-cert.pem
GRPC_CLIENT_KEY=/certs/client-key.pem
GRPC_CA_CERT=/certs/ca/ca-cert.pem

