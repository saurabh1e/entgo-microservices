package graph

// This file will be automatically regenerated based on the schema, any resolver
// implementations
// will be copied through when generating and any unknown code will be moved to the end.
// Code generated by github.com/99designs/gqlgen version v0.17.84

import (
	"context"

	"entgo.io/contrib/entgql"
	"github.com/saurabh/entgo-microservices/auth/internal/ent"
)

// CreateRolePermission is the resolver for the createRolePermission mutation.
func (r *mutationResolver) CreateRolePermission(ctx context.Context, input ent.CreateRolePermissionInput) (*ent.RolePermission, error) {
	return r.Resolver.client.RolePermission.Create().SetInput(input).Save(ctx)
}

// CreateBulkRolePermission is the resolver for the createBulkRolePermission mutation.
func (r *mutationResolver) CreateBulkRolePermission(ctx context.Context, input []*ent.CreateRolePermissionInput) ([]*ent.RolePermission, error) {
	builders := make([]*ent.RolePermissionCreate, len(input))
	for i, inp := range input {
		builders[i] = r.Resolver.client.RolePermission.Create().SetInput(*inp)
	}
	return r.Resolver.client.RolePermission.CreateBulk(builders...).Save(ctx)
}

// UpdateRolePermission is the resolver for the updateRolePermission mutation.
func (r *mutationResolver) UpdateRolePermission(ctx context.Context, id int, input ent.UpdateRolePermissionInput) (*ent.RolePermission, error) {
	return r.Resolver.client.RolePermission.UpdateOneID(id).SetInput(input).Save(ctx)
}

// DeleteRolePermission is the resolver for the deleteRolePermission mutation.
func (r *mutationResolver) DeleteRolePermission(ctx context.Context, id int) (bool, error) {
	err := r.Resolver.client.RolePermission.DeleteOneID(id).Exec(ctx)
	if err != nil {
		return false, err
	}
	return true, nil
}

// RolePermissionByID is the resolver for the RolePermissionByID field.
func (r *queryResolver) RolePermissionByID(ctx context.Context, id int) (*ent.RolePermission, error) {
	return r.Resolver.client.RolePermission.Get(ctx, id)
}

// RolePermissions is the resolver for the RolePermissions field.
func (r *queryResolver) RolePermissions(ctx context.Context, first *int, after *entgql.Cursor[int], last *int, before *entgql.Cursor[int], orderBy *ent.RolePermissionOrder, where *ent.RolePermissionWhereInput) (*ent.RolePermissionConnection, error) {
	return r.Resolver.client.RolePermission.Query().Paginate(ctx, after, first, before, last, ent.WithRolePermissionFilter(where.Filter), ent.WithRolePermissionOrder(orderBy))
}
