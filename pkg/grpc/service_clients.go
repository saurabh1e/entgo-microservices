package grpc

import (
	"sync"
)

// ServiceClients provides lazy-initialized clients for each microservice
// One client per microservice (not per model)
//
// This file is auto-generated by scripts/generate-service-clients.sh
// DO NOT EDIT MANUALLY - run 'make generate-clients' to regenerate
type ServiceClients struct {
	gatewayClient *GatewayClient

	// Auth microservice client
	authClient     *AuthServiceClient
	authClientOnce sync.Once

	// Microservice microservice client
	microserviceClient     *MicroserviceServiceClient
	microserviceClientOnce sync.Once
}

// NewServiceClients creates a new service clients instance
func NewServiceClients(gatewayClient *GatewayClient) *ServiceClients {
	return &ServiceClients{
		gatewayClient: gatewayClient,
	}
}

// Auth returns the Auth microservice client (handles all auth models)
func (s *ServiceClients) Auth() *AuthServiceClient {
	s.authClientOnce.Do(func() {
		s.authClient = NewAuthServiceClient(s.gatewayClient)
	})
	return s.authClient
}

// Microservice returns the Microservice microservice client (handles all microservice models)
func (s *ServiceClients) Microservice() *MicroserviceServiceClient {
	s.microserviceClientOnce.Do(func() {
		s.microserviceClient = NewMicroserviceServiceClient(s.gatewayClient)
	})
	return s.microserviceClient
}

// Legacy compatibility - will be deprecated
type AutoClients = ServiceClients

// NewAutoClients is deprecated, use NewServiceClients instead
func NewAutoClients(gatewayClient *GatewayClient) *AutoClients {
	return NewServiceClients(gatewayClient)
}
